# 什么是AE

AE（Auto Exposure）是自动曝光（调节）的意思。是相机根据外界光线的强弱自动调整曝光量和增益，防止曝光过度或者不足的一种机制。</br>
如果我是一束光，在穿过了Lens后，就要达到感光Sensor上了。那么AE就是就是用来控制有多少光可以抵达Sendor的一种机制。

## 曝光

曝光（英语：Exposure）是指摄影的过程中允许进入镜头照在感光媒体（胶片相机的底片或是数字照相机的图像传感器）上的光量。

### 过曝和曝光不足

既然曝光意指通光量的大小，那么就肯定有偏大和偏小之说。简单的说
+ 过曝就是通光量太大了，导致画面中亮度太高照片泛白；
+ 相反，欠曝就是通光量太小了，导致画面亮度太低照片暗淡；

找个对比图就看得明白：

<img src="https://github.com/lowkeyway/Embedded/blob/master/Software/Driver/Pic/Camera/Camera%20%E6%9B%9D%E5%85%89%E6%AD%A3%E5%B8%B8%E3%80%81%E8%BF%87%E6%9B%9D%E3%80%81%E4%B8%8D%E8%B6%B3%E7%9A%84%E5%AF%B9%E6%AF%94.png">

## 曝光和直方图

如果要定量的分析曝光值，我想起来从直方图的角度看一些图片。直方图分析图片中每个像素的亮度值，并且做统计，可以参考雷神的图：

<img src="https://github.com/lowkeyway/Embedded/blob/master/Software/Driver/Pic/Camera/Camera%20%E8%BF%87%E6%9B%9D%E5%92%8C%E6%9B%9D%E5%85%89%E4%B8%8D%E8%B6%B3%E4%B8%8B%E7%9A%84%E7%9B%B4%E6%96%B9%E5%9B%BE.png">

+ 过曝的图，直方图亮度趋于集中数值大的一端；
+ 曝光不足的图，直方图的亮度统计趋于集中数值较小的一端；

PS： 雷神说可以用直方图均衡的方法做后期处理，可AE现在要做的是在前端就把把这种现象扼杀在摇篮中。

## 自动曝光

那么问题来了，一般来说是什么因素导致了这种过曝和欠曝的现象呢？我们又改如何解决呢？
1. “曝光”可以经由光圈，快门和感光媒体的感光度的组合来控制。所以肯定是这三者某一个或者某些因素除了问题。
2. 如何解决？AE自动曝光就通过调节这三者之间的关系来解决这个问题的。

# 支持AE的几个硬件要素

# 支持AE的软件算法
